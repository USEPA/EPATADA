<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create or Update ATTAINS, TADA/WQP/WQX, and EPA Criteria Search Tool (CST) Parameter Name Crosswalk — TADA_CreateParamRef • EPATADA</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create or Update ATTAINS, TADA/WQP/WQX, and EPA Criteria Search Tool (CST) Parameter Name Crosswalk — TADA_CreateParamRef"><meta name="description" content="Use this function to help generate a crosswalk between each
ATTAINS.ParameterName used by a specific state or tribal nation and each
TADA.ComparableDataIdentifier present in the input TADA dataframe. The
crosswalk can be filled out by users within R or Excel. By default this
function will generate a user friendly Excel spreadsheet that includes a
drop down list list of all ATTAINS parameters that are applicable to the
organization selected by the function input 'org_id'. It also
highlights the cells in which users should input information. The excel
spreadsheet will be automatically downloaded to a user's downloads folder path.
Users may need to insert additional rows into the crosswalk if:
an ATTAINS.ParameterName corresponds with multiple TADA.ComparableDataIdentifiers
Example: An organization uses &quot;ALUMINUM&quot; for all aluminum related parameter causes
but this ATTAINS.ParameterName may crosswalk to &quot;ALUMINUM_TOTAL_NA_UG/L&quot;
for one use and &quot;ALUMINUM_DISSOLVED_NA_UG/L&quot; for another use; or
an TADA.ComparableDataIdentifiers corresponds with multiple ATTAINS.ParameterNames.
Example: An organization uses both &quot;pH, HIGH&quot; and &quot;pH, LOW&quot; as ATTAINS.ParameterNames,
but both crosswalk to the same TADA.ComparableDataIdentifier, &quot;PH_NA_NA_STD UNITS&quot;.

"><meta property="og:description" content="Use this function to help generate a crosswalk between each
ATTAINS.ParameterName used by a specific state or tribal nation and each
TADA.ComparableDataIdentifier present in the input TADA dataframe. The
crosswalk can be filled out by users within R or Excel. By default this
function will generate a user friendly Excel spreadsheet that includes a
drop down list list of all ATTAINS parameters that are applicable to the
organization selected by the function input 'org_id'. It also
highlights the cells in which users should input information. The excel
spreadsheet will be automatically downloaded to a user's downloads folder path.
Users may need to insert additional rows into the crosswalk if:
an ATTAINS.ParameterName corresponds with multiple TADA.ComparableDataIdentifiers
Example: An organization uses &quot;ALUMINUM&quot; for all aluminum related parameter causes
but this ATTAINS.ParameterName may crosswalk to &quot;ALUMINUM_TOTAL_NA_UG/L&quot;
for one use and &quot;ALUMINUM_DISSOLVED_NA_UG/L&quot; for another use; or
an TADA.ComparableDataIdentifiers corresponds with multiple ATTAINS.ParameterNames.
Example: An organization uses both &quot;pH, HIGH&quot; and &quot;pH, LOW&quot; as ATTAINS.ParameterNames,
but both crosswalk to the same TADA.ComparableDataIdentifier, &quot;PH_NA_NA_STD UNITS&quot;.

"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EPATADA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/CONTRIBUTING.html">Contributing</a></li>
    <li><a class="dropdown-item" href="../articles/TADAAssessmentUnitUseCase.html">TADA: Assessment Unit Use Case Demo</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule1_AdvancedTraining.html">TADA Module 1: Training for Intermediate/Advanced R Users</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule1_BeginnerTraining.html">TADA Module 1: Training for Beginner R Users</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule1.html">TADA Module 1: Water Quality Portal Data Discovery and Cleaning</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule2.html">TADA Module 2: Geospatial Functions</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule3_PartA.html">TADA Module 3A: Associating WQP Characteristic Names with Applicable ATTAINS State, Tribal or EPA 304(a) Parameter and Use Names</a></li>
    <li><a class="dropdown-item" href="../articles/TADAWaterSciConWorkshopDemo.html">TADA: WaterSciCon Workshop Demo</a></li>
    <li><a class="dropdown-item" href="../articles/WQXValidationService.html">WQX QAQC Service User Guide</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USEPA/EPATADA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create or Update ATTAINS, TADA/WQP/WQX, and EPA Criteria Search Tool (CST) Parameter Name Crosswalk</h1>
      <small class="dont-index">Source: <a href="https://github.com/USEPA/EPATADA/blob/develop/R/ATTAINSCrosswalks.R" class="external-link"><code>R/ATTAINSCrosswalks.R</code></a></small>
      <div class="d-none name"><code>TADA_CreateParamRef.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Use this function to help generate a crosswalk between each
ATTAINS.ParameterName used by a specific state or tribal nation and each
TADA.ComparableDataIdentifier present in the input TADA dataframe. The
crosswalk can be filled out by users within R or Excel. By default this
function will generate a user friendly Excel spreadsheet that includes a
drop down list list of all ATTAINS parameters that are applicable to the
organization selected by the function input 'org_id'. It also
highlights the cells in which users should input information. The excel
spreadsheet will be automatically downloaded to a user's downloads folder path.
Users may need to insert additional rows into the crosswalk if:</p><ol><li><p>an ATTAINS.ParameterName corresponds with multiple TADA.ComparableDataIdentifiers
Example: An organization uses "ALUMINUM" for all aluminum related parameter causes
but this ATTAINS.ParameterName may crosswalk to "ALUMINUM_TOTAL_NA_UG/L"
for one use and "ALUMINUM_DISSOLVED_NA_UG/L" for another use; or</p></li>
<li><p>an TADA.ComparableDataIdentifiers corresponds with multiple ATTAINS.ParameterNames.
Example: An organization uses both "pH, HIGH" and "pH, LOW" as ATTAINS.ParameterNames,
but both crosswalk to the same TADA.ComparableDataIdentifier, "PH_NA_NA_STD UNITS".</p></li>
</ol></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">TADA_CreateParamRef</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  org_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  paramRef <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  excel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>A TADA dataframe. We recommend running all desired data
cleaning, processing, harmonization, filtering, QAQC, and handling of
censored data prior to running TADA_CreateParamRef.</p></dd>


<dt id="arg-org-id">org_id<a class="anchor" aria-label="anchor" href="#arg-org-id"></a></dt>
<dd><p>The ATTAINS organization identifier must be supplied by the
user. A list of organization identifiers can be found by downloading
the ATTAINS Domains Excel file:
https://www.epa.gov/system/files/other-files/2025-02/domains_2025-02-25.xlsx.
Organization identifiers are listed in the "OrgName" tab.
The "code" column contains the organization identifiers that
should be used for this parameter. If a user supplied crosswalk is entered
into paramRef AND a user does not provide an org_id argument,
the function can identify which organization identifier(s) to include
based on the unique ATTAINS organization identifiers found in the dataframe.</p></dd>


<dt id="arg-paramref">paramRef<a class="anchor" aria-label="anchor" href="#arg-paramref"></a></dt>
<dd><p>A dataframe which contains a completed crosswalk between
TADA_ComparableDataIdentifier and ATTAINS.ParameterName. Users will need to
ensure this crosswalk contains the appropriate column names in order to
run the function. paramRef must contain at least these two column names:
TADA.ComparableDataIdentifier and ATTAINS.ParameterName. Users who are
interested in performing analyses for more than
one organization (multiple states or tribes, or a single state/tribe and
EPA 304a criteria) also need to include an additional column name:
'organization_identifier'.</p></dd>


<dt id="arg-excel">excel<a class="anchor" aria-label="anchor" href="#arg-excel"></a></dt>
<dd><p>A Boolean value that returns an excel spreadsheet if
excel = TRUE. This spreadsheet is created in the user's downloads folder path.
If needed, please type the following into your R console:
file.path(Sys.getenv("USERPROFILE"), "Downloads") to ensure the file is downloaded
to the correct location. The file will be named "myfileRef.xlsx".</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>A Boolean value that ensures the function will not overwrite
the user supplied crosswalk entered into this function via the paramRef
function input. This helps prevent users from overwriting their progress.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A excel file or data frame which contains the columns:
TADA.ComparableDataIdentifier, organization_identifier, EPA304A.PollutantName,
ATTAINS.ParameterName, and ATTAINS.FlagParameterName. Users will need to
complete the crosswalk between ATTAINS.ParameterName and
TADA.ComparableDataIdentifier.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Users who have already created an ATTAINS parameter and TADA/WQP characteristic
crosswalk can provide it as an input to this function. The user-supplied
crosswalk (dataframe entered into paramRef function input) must contain the
two required columns: TADA.ComparableDataIdentifier and ATTAINS.ParameterName.
In addition, users who are interested in performing analyses for more than
one organization (multiple states or tribes, or a single state/tribe and
EPA 304a criteria) also need to include an additional column name:
'organization_identifier'. This ensures that the crosswalk between
TADA.ComparableDataIdentifier and ATTAINS.ParameterName are specific and
accurate for each organization. If a crosswalk has already been created in the
past and is entered into this function as a starting point, then any
TADA.ComparableDataIdentifiers that were previously matched
with ATTAINS parameters will be retained in the crosswalk, and any new
TADA.ComparableDataIdentifiers from the new input data frame will be added
to the crosswalk. Users can then focus on matching only the new
TADA.ComparableDataIdentifiers with applicable ATTAINS parameter names.</p>
<p>The EPA TADA team created a draft crosswalk between characteristic
names (TADA.ComparableDataIdentifier) and EPA 304A pollutant names
(sourced from the Criteria Search Tool:
https://www.epa.gov/wqs-tech/state-specific-water-quality-standards-effective-under-clean-water-act-cwa)
This crosswalk only includes priority characteristics identified by the TADA
Working Group. You are welcome to reach out to the TADA team to ask for
additional matches to be included. You may run the following line of code
in the console to review this crosswalk:
'CSTtoATTAINSParamCrosswalk &lt;- utils::read.csv(system.file("extdata", "TADAPriorityCharUnitRef.csv", package = "EPATADA"))'.</p>
<p>If no existing ATTAINS parameter name corresponds with a specific
TADA.ComparableDataIdentifier, users may contact the ATTAINS helpdesk
<a href="mailto:attains@epa.gov">attains@epa.gov</a> to inquire about adding the parameter. Users are
free to use any ATTAINS parameter name found in the ATTAINS parameter domain
value list, even if the parameter name  has not previously
been listed as a cause by the specific organization in the
past. The full list of ATTAINS parameter names can be found by downloading
the ATTAINS Domains Excel file:
https://www.epa.gov/system/files/other-files/2025-02/domains_2025-02-25.xlsx.
In the meantime, users can proceed by overriding the data validation in Excel
by value pasting. In that case, users will be warned in the
ATTAINS.FlagParameterName column that they choose to include an
ATTAINS.ParameterName that was not used by the selected organization in prior
ATTAINS assessment cycles.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># This creates a blank paramRef template of UT Nutrients data.</span></span></span>
<span class="r-in"><span><span class="co"># Users will need to fill this template out.</span></span></span>
<span class="r-in"><span><span class="co"># Uncomment example below to generate Excel file</span></span></span>
<span class="r-in"><span><span class="co"># (we recommended working on this in Excel):</span></span></span>
<span class="r-in"><span><span class="co"># TADA_CreateParamRef(Data_Nutrients_UT, org_id = "UTAHDWQ", excel = TRUE)</span></span></span>
<span class="r-in"><span><span class="co"># Example below generates the same output as a dataframe</span></span></span>
<span class="r-in"><span><span class="va">paramRef_UT</span> <span class="op">&lt;-</span> <span class="fu">TADA_CreateParamRef</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">Data_Nutrients_UT</span>,</span></span>
<span class="r-in"><span>  org_id <span class="op">=</span> <span class="st">"UTAHDWQ"</span>, excel <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Users can choose to edit the paramRef_UT through the R environment or in</span></span></span>
<span class="r-in"><span><span class="co"># the excel spreadsheet. Users should be aware that any updates done only</span></span></span>
<span class="r-in"><span><span class="co"># in the R environment will not reflect the 'ATTAINS.FlagParameterName' values</span></span></span>
<span class="r-in"><span><span class="co"># correctly. If completed in R, we recommend users rerun this function</span></span></span>
<span class="r-in"><span><span class="co"># to update the 'ATTAINS.FlagParameterName'.</span></span></span>
<span class="r-in"><span><span class="co"># See below for a simple example of this workflow:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Manually add ATTAINS parameters to crosswalk using R</span></span></span>
<span class="r-in"><span><span class="va">paramRef_UT2</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="va">paramRef_UT</span>,</span></span>
<span class="r-in"><span>  ATTAINS.ParameterName <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"AMMONIA"</span>, <span class="va">TADA.ComparableDataIdentifier</span><span class="op">)</span> <span class="op">~</span> <span class="st">"AMMONIA, TOTAL"</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"NITRATE"</span>, <span class="va">TADA.ComparableDataIdentifier</span><span class="op">)</span> <span class="op">~</span> <span class="st">"NITRATE"</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"NITROGEN"</span>, <span class="va">TADA.ComparableDataIdentifier</span><span class="op">)</span> <span class="op">~</span></span></span>
<span class="r-in"><span>      <span class="st">"NITRATE/NITRITE (NITRITE + NITRATE AS N)"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Update the 'ATTAINS.FlagParameterName' values</span></span></span>
<span class="r-in"><span><span class="va">paramRef_UT3</span> <span class="op">&lt;-</span> <span class="fu">TADA_CreateParamRef</span><span class="op">(</span><span class="va">Data_Nutrients_UT</span>,</span></span>
<span class="r-in"><span>  paramRef <span class="op">=</span> <span class="va">paramRef_UT2</span>,</span></span>
<span class="r-in"><span>  org_id <span class="op">=</span> <span class="st">"UTAHDWQ"</span>, excel <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example where multiple org_id's are selected</span></span></span>
<span class="r-in"><span><span class="co"># First, run key flag functions and harmonize synonyms across</span></span></span>
<span class="r-in"><span><span class="co"># characteristic, fraction, and speciation columns</span></span></span>
<span class="r-in"><span><span class="va">Data_NCTCShepherdstown</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="TADA_RunKeyFlagFunctions.html">TADA_RunKeyFlagFunctions</a></span><span class="op">(</span><span class="va">Data_NCTCShepherdstown_HUC12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Data_NCTCShepherdstown2</span> <span class="op">&lt;-</span> <span class="fu"><a href="TADA_HarmonizeSynonyms.html">TADA_HarmonizeSynonyms</a></span><span class="op">(</span><span class="va">Data_NCTCShepherdstown</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Create ATTAINS parameter crosswalk for MD, VA, and PA</span></span></span>
<span class="r-in"><span><span class="va">paramRef_NCTC</span> <span class="op">&lt;-</span> <span class="fu">TADA_CreateParamRef</span><span class="op">(</span><span class="va">Data_NCTCShepherdstown2</span>,</span></span>
<span class="r-in"><span>  org_id <span class="op">=</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MDE_EASP"</span>, <span class="st">"21VASWCB"</span>, <span class="st">"21PA"</span><span class="op">)</span>, excel <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cristina Mullin, Hillary Marler, Jacob Greif, Elise Hinman, Kenny Wong, Kathryn Willi, Matt Brousil, Kathleen Healy, Justin Bousquin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

