<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function joins a synonym reference table to the dataset to convert
synonymous data to a unified naming format for easier aggregation, analysis,
and visualization. Users may populate the function with a dataset-specific
synonym table created from TADA_GetSynonymRef and reviewed/customized by the
user (recommended), or the default TADA-provided synonym table, containing
suggested synonym naming for some priority characteristics. Where a suggested
characteristic name, fraction, speciation, or unit is present, the function
will convert the TADA.CharacteristicName, TADA.ResultSampleFractionText,
TADA.MethodSpeciationName, and/or TADA.ResultMeasure.MeasureUnitCode to
the target format. In cases where a target unit or speciation differs from
the existing unit or speciation, the reference table will also apply
multiplication conversion factors to the TADA.ResultMeasureValue."><title>Harmonize Synonyms — TADA_HarmonizeSynonyms • TADA</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Harmonize Synonyms — TADA_HarmonizeSynonyms"><meta property="og:description" content="This function joins a synonym reference table to the dataset to convert
synonymous data to a unified naming format for easier aggregation, analysis,
and visualization. Users may populate the function with a dataset-specific
synonym table created from TADA_GetSynonymRef and reviewed/customized by the
user (recommended), or the default TADA-provided synonym table, containing
suggested synonym naming for some priority characteristics. Where a suggested
characteristic name, fraction, speciation, or unit is present, the function
will convert the TADA.CharacteristicName, TADA.ResultSampleFractionText,
TADA.MethodSpeciationName, and/or TADA.ResultMeasure.MeasureUnitCode to
the target format. In cases where a target unit or speciation differs from
the existing unit or speciation, the reference table will also apply
multiplication conversion factors to the TADA.ResultMeasureValue."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">TADA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/CONTRIBUTING.html">Contributing</a>
    <a class="dropdown-item" href="../articles/TADAAssessmentUnitUseCase.html">TADA: Assessment Unit Use Case Demo</a>
    <a class="dropdown-item" href="../articles/TADAModule1_AdvancedTraining.html">TADA Module 1: Training for Intermediate/Advanced R Users</a>
    <a class="dropdown-item" href="../articles/TADAModule1_BeginnerTraining.html">TADA Module 1: Training for Beginner R Users</a>
    <a class="dropdown-item" href="../articles/TADAModule1.html">TADA Module 1: Water Quality Portal Data Discovery and Cleaning</a>
    <a class="dropdown-item" href="../articles/TADAModule2.html">TADA Module 2: Geospatial Functions</a>
    <a class="dropdown-item" href="../articles/WQXValidationService.html">WQX QAQC Service User Guide</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/USEPA/TADA/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Harmonize Synonyms</h1>
      <small class="dont-index">Source: <a href="https://github.com/USEPA/TADA/blob/HEAD/R/Transformations.R" class="external-link"><code>R/Transformations.R</code></a></small>
      <div class="d-none name"><code>TADA_HarmonizeSynonyms.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function joins a synonym reference table to the dataset to convert
synonymous data to a unified naming format for easier aggregation, analysis,
and visualization. Users may populate the function with a dataset-specific
synonym table created from TADA_GetSynonymRef and reviewed/customized by the
user (recommended), or the default TADA-provided synonym table, containing
suggested synonym naming for some priority characteristics. Where a suggested
characteristic name, fraction, speciation, or unit is present, the function
will convert the TADA.CharacteristicName, TADA.ResultSampleFractionText,
TADA.MethodSpeciationName, and/or TADA.ResultMeasure.MeasureUnitCode to
the target format. In cases where a target unit or speciation differs from
the existing unit or speciation, the reference table will also apply
multiplication conversion factors to the TADA.ResultMeasureValue.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">TADA_HarmonizeSynonyms</span><span class="op">(</span><span class="va">.data</span>, <span class="va">ref</span>, np_speciation <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>.data</dt>
<dd><p>TADA dataframe</p></dd>


<dt>ref</dt>
<dd><p>Optional argument to specify which dataframe to use as a reference
file. The primary use for this argument is when a user has generated a
synonym reference file unique to their data, and they made changes to
that file.</p></dd>


<dt>np_speciation</dt>
<dd><p>Boolean. Determines whether the user wants to convert
nitrogen and phosphorus subspecies to speciation 'as N' and 'as P', where
speciation conversions are provided. Defaults to TRUE. For example, if
np_speciation is TRUE, all Nitrate with TADA.MethodSpeciationName = as
NO3 will be converted to as N using molecular weight conversion factors.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The input TADA dataframe with the TADA.CharacteristicName,
TADA.ResultSampleFractionText, TADA.MethodSpeciationName, and
TADA.ResultMeasure.MeasureUnitCode columns converted to the target values,
if supplied. Also includes additional columns
TADA.CharacteristicNameAssumptions, TADA.FractionAssumptions, and
TADA.SpeciationAssumptions populated with additional notes about the conversion
logic, and a TADA.Harmonized.Flag, indicating whether TADA columns were
changed in this function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load example dataset:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Data_6Tribes_5y</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a synonym reference table for flagged, cleaned dataframe:</span></span></span>
<span class="r-in"><span><span class="va">Data_6Tribes_5yClean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">Data_6Tribes_5y</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Data_6Tribes_5y</span><span class="op">$</span><span class="va">TADA.ResultMeasureValue</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Data_6Tribes_5yClean</span> <span class="op">&lt;-</span> <span class="fu"><a href="TADA_FlagFraction.html">TADA_FlagFraction</a></span><span class="op">(</span><span class="va">Data_6Tribes_5yClean</span>, clean <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Data_6Tribes_5yClean</span> <span class="op">&lt;-</span> <span class="fu"><a href="TADA_FlagResultUnit.html">TADA_FlagResultUnit</a></span><span class="op">(</span><span class="va">Data_6Tribes_5yClean</span>, clean <span class="op">=</span> <span class="st">"invalid_only"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Data_6Tribes_5yClean</span> <span class="op">&lt;-</span> <span class="fu"><a href="TADA_FlagSpeciation.html">TADA_FlagSpeciation</a></span><span class="op">(</span><span class="va">Data_6Tribes_5yClean</span>, clean <span class="op">=</span> <span class="st">"invalid_only"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Data_6Tribes_5yClean</span> <span class="op">&lt;-</span> <span class="fu"><a href="TADA_FlagMethod.html">TADA_FlagMethod</a></span><span class="op">(</span><span class="va">Data_6Tribes_5yClean</span>, clean <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">CreateRefTable</span> <span class="op">&lt;-</span> <span class="fu"><a href="TADA_GetSynonymRef.html">TADA_GetSynonymRef</a></span><span class="op">(</span><span class="va">Data_6Tribes_5yClean</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Append synonym reference table columns to dataframe and transform/convert</span></span></span>
<span class="r-in"><span><span class="co"># data to the USER SUPPLIED reference table values:</span></span></span>
<span class="r-in"><span><span class="va">Data_6Tribes_5yClean_Harmonized</span> <span class="op">&lt;-</span> <span class="fu">TADA_HarmonizeSynonyms</span><span class="op">(</span><span class="va">Data_6Tribes_5yClean</span>, ref <span class="op">=</span> <span class="va">CreateRefTable</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by U.S. Environmental Protection Agency, Cristina Mullin, Jacob Greif, Elise Hinman.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

