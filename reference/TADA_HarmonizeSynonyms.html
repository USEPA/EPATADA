<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Harmonize Synonyms — TADA_HarmonizeSynonyms • EPATADA</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Harmonize Synonyms — TADA_HarmonizeSynonyms"><meta name="description" content="This function joins a synonym reference table to the dataset to convert
synonymous data to a unified naming format for easier aggregation, analysis,
and visualization. Users may populate the function with a dataset-specific
synonym table created from TADA_GetSynonymRef and reviewed/customized by the
user (recommended), or the default TADA-provided synonym table, containing
suggested synonym naming for some priority characteristics. Where a suggested
characteristic name, fraction, speciation, or unit is present, the function
will convert the TADA.CharacteristicName, TADA.ResultSampleFractionText,
and TADA.MethodSpeciationName to the target format. In cases where a target
speciation differs from the existing speciation, the reference table will
also apply multiplication conversion factors to the TADA.ResultMeasureValue."><meta property="og:description" content="This function joins a synonym reference table to the dataset to convert
synonymous data to a unified naming format for easier aggregation, analysis,
and visualization. Users may populate the function with a dataset-specific
synonym table created from TADA_GetSynonymRef and reviewed/customized by the
user (recommended), or the default TADA-provided synonym table, containing
suggested synonym naming for some priority characteristics. Where a suggested
characteristic name, fraction, speciation, or unit is present, the function
will convert the TADA.CharacteristicName, TADA.ResultSampleFractionText,
and TADA.MethodSpeciationName to the target format. In cases where a target
speciation differs from the existing speciation, the reference table will
also apply multiplication conversion factors to the TADA.ResultMeasureValue."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EPATADA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/CONTRIBUTING.html">Contributing</a></li>
    <li><a class="dropdown-item" href="../articles/TADAAssessmentUnitUseCase.html">TADA: Assessment Unit Use Case Demo</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule1_AdvancedTraining.html">TADA Module 1: Training for Intermediate/Advanced R Users</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule1_BeginnerTraining.html">TADA Module 1: Training for Beginner R Users</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule1.html">TADA Module 1: Water Quality Portal Data Discovery and Cleaning</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule2.html">TADA Module 2: Geospatial Functions</a></li>
    <li><a class="dropdown-item" href="../articles/TADAWaterSciConWorkshopDemo.html">TADA: WaterSciCon Workshop Demo</a></li>
    <li><a class="dropdown-item" href="../articles/WQXValidationService.html">WQX QAQC Service User Guide</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USEPA/EPATADA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Harmonize Synonyms</h1>
      <small class="dont-index">Source: <a href="https://github.com/USEPA/EPATADA/blob/develop/R/Transformations.R" class="external-link"><code>R/Transformations.R</code></a></small>
      <div class="d-none name"><code>TADA_HarmonizeSynonyms.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function joins a synonym reference table to the dataset to convert
synonymous data to a unified naming format for easier aggregation, analysis,
and visualization. Users may populate the function with a dataset-specific
synonym table created from TADA_GetSynonymRef and reviewed/customized by the
user (recommended), or the default TADA-provided synonym table, containing
suggested synonym naming for some priority characteristics. Where a suggested
characteristic name, fraction, speciation, or unit is present, the function
will convert the TADA.CharacteristicName, TADA.ResultSampleFractionText,
and TADA.MethodSpeciationName to the target format. In cases where a target
speciation differs from the existing speciation, the reference table will
also apply multiplication conversion factors to the TADA.ResultMeasureValue.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">TADA_HarmonizeSynonyms</span><span class="op">(</span><span class="va">.data</span>, <span class="va">ref</span>, np_speciation <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>TADA dataframe</p></dd>


<dt id="arg-ref">ref<a class="anchor" aria-label="anchor" href="#arg-ref"></a></dt>
<dd><p>Optional argument to specify which dataframe to use as a reference
file. The primary use for this argument is when a user has generated a
synonym reference file unique to their data, and they made changes to
that file.</p></dd>


<dt id="arg-np-speciation">np_speciation<a class="anchor" aria-label="anchor" href="#arg-np-speciation"></a></dt>
<dd><p>Boolean. Determines whether the user wants to convert
nitrogen and phosphorus subspecies to speciation 'as N' and 'as P', where
speciation conversions are provided. Defaults to TRUE. For example, if
np_speciation is TRUE, all Nitrate with TADA.MethodSpeciationName = as
NO3 will be converted to as N using molecular weight conversion factors.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The input TADA dataframe with the TADA.CharacteristicName,
TADA.ResultSampleFractionText, TADA.MethodSpeciationName, and
TADA.ResultMeasure.MeasureUnitCode columns converted to the target values,
if supplied. Also includes additional columns
TADA.CharacteristicNameAssumptions, TADA.FractionAssumptions, and
TADA.SpeciationAssumptions populated with additional notes about the conversion
logic, and a TADA.Harmonized.Flag, indicating whether TADA columns were
changed in this function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load example dataset:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Data_6Tribes_5y</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a synonym reference table for flagged, cleaned dataframe:</span></span></span>
<span class="r-in"><span><span class="va">Data_6Tribes_5yClean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">Data_6Tribes_5y</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Data_6Tribes_5y</span><span class="op">$</span><span class="va">TADA.ResultMeasureValue</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Data_6Tribes_5yClean</span> <span class="op">&lt;-</span> <span class="fu"><a href="TADA_FlagFraction.html">TADA_FlagFraction</a></span><span class="op">(</span><span class="va">Data_6Tribes_5yClean</span>, clean <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Data_6Tribes_5yClean</span> <span class="op">&lt;-</span> <span class="fu"><a href="TADA_FlagResultUnit.html">TADA_FlagResultUnit</a></span><span class="op">(</span><span class="va">Data_6Tribes_5yClean</span>, clean <span class="op">=</span> <span class="st">"invalid_only"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Data_6Tribes_5yClean</span> <span class="op">&lt;-</span> <span class="fu"><a href="TADA_FlagSpeciation.html">TADA_FlagSpeciation</a></span><span class="op">(</span><span class="va">Data_6Tribes_5yClean</span>, clean <span class="op">=</span> <span class="st">"invalid_only"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Data_6Tribes_5yClean</span> <span class="op">&lt;-</span> <span class="fu"><a href="TADA_FlagMethod.html">TADA_FlagMethod</a></span><span class="op">(</span><span class="va">Data_6Tribes_5yClean</span>, clean <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">CreateRefTable</span> <span class="op">&lt;-</span> <span class="fu"><a href="TADA_GetSynonymRef.html">TADA_GetSynonymRef</a></span><span class="op">(</span><span class="va">Data_6Tribes_5yClean</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Append synonym reference table columns to dataframe and transform/convert</span></span></span>
<span class="r-in"><span><span class="co"># data to the USER SUPPLIED reference table values:</span></span></span>
<span class="r-in"><span><span class="va">Data_6Tribes_5yClean_Harmonized</span> <span class="op">&lt;-</span> <span class="fu">TADA_HarmonizeSynonyms</span><span class="op">(</span><span class="va">Data_6Tribes_5yClean</span>, ref <span class="op">=</span> <span class="va">CreateRefTable</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by U.S. Environmental Protection Agency, Cristina Mullin, Hillary Marler, Jacob Greif, Elise Hinman.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

