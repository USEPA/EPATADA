<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Pair Replicates with Original Samples — TADA_PairReplicates • EPATADA</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Pair Replicates with Original Samples — TADA_PairReplicates"><meta name="description" content="This function looks for replicate samples and pairs them to their original or
parent sample for further analysis. Replicate samples without an associated original
sample are flagged as orphan samples."><meta property="og:description" content="This function looks for replicate samples and pairs them to their original or
parent sample for further analysis. Replicate samples without an associated original
sample are flagged as orphan samples."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EPATADA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/CONTRIBUTING.html">Contributing</a></li>
    <li><a class="dropdown-item" href="../articles/TADAAssessmentUnitUseCase.html">TADA: Assessment Unit Use Case Demo</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule1_AdvancedTraining.html">TADA Module 1: Training for Intermediate/Advanced R Users</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule1_BeginnerTraining.html">TADA Module 1: Training for Beginner R Users</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule1.html">TADA Module 1: Water Quality Portal Data Discovery and Cleaning</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule2.html">TADA Module 2: Geospatial Functions</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule3_PartA.html">TADA Module 3A: Associating WQP Characteristic Names with Applicable ATTAINS State, Tribal or EPA 304(a) Parameter and Use Names</a></li>
    <li><a class="dropdown-item" href="../articles/TADAWaterSciConWorkshopDemo.html">TADA: WaterSciCon Workshop Demo</a></li>
    <li><a class="dropdown-item" href="../articles/WQXValidationService.html">WQX QAQC Service User Guide</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USEPA/EPATADA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Pair Replicates with Original Samples</h1>
      <small class="dont-index">Source: <a href="https://github.com/USEPA/EPATADA/blob/develop/R/ResultFlagsDependent.R" class="external-link"><code>R/ResultFlagsDependent.R</code></a></small>
      <div class="d-none name"><code>TADA_PairReplicates.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function looks for replicate samples and pairs them to their original or
parent sample for further analysis. Replicate samples without an associated original
sample are flagged as orphan samples.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">TADA_PairReplicates</span><span class="op">(</span><span class="va">.data</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QC_replicate"</span><span class="op">)</span>, time_difference <span class="op">=</span> <span class="fl">600</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>TADA dataframe which must include the columns 'OrganizationIdentifier',
'ActivityTypeCode', 'ActivityStartDate', 'ActivityStartDateTime', 'ResultIdentifier',
'ActivityRelativeDepthName', 'TADA.LatitudeMeasure', 'TADA.LongitudeMeasure',
'TADA.ResultMeasureValue', 'TADA.ComparableDataIdentifier', 'TADA.ActivityType.Flag',
'TADA.ActivityDepthHeightMeasure.MeasureValue', 'TADA.ResultDepthHeightMeasure.MeasureValue',
'TADA.ActivityTopDepthHeightMeasure.MeasureValue', and
'TADA.ActivityBottomDepthHeightMeasure.MeasureValue'.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Character argument identifying which Activity Types to look for while pairing replicates
to their parent samples. The default type is "QC_replicate", which includes Activity Type Codes:
"Quality Control Field Replicate Habitat Assessment",
"Quality Control Field Replicate Msr/Obs",
"Quality Control Field Replicate Portable Data Logger",
"Quality Control Field Replicate Sample-Composite", and
"Quality Control Sample-Field Replicate".</p></dd>


<dt id="arg-time-difference">time_difference<a class="anchor" aria-label="anchor" href="#arg-time-difference"></a></dt>
<dd><p>Numeric argument defining the maximum time difference in seconds
to search for parent samples. The default time window is 600 seconds or 10 minutes.
The time_difference can be as large as the user would like, but parent-replicate pairs will only be
identified if they were collected on the same date.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>This function adds one column to the original dataframe: 'TADA.ReplicateSampleID'.
'TADA.ReplicateSampleID' contains the 'ResultIdentifier' value from the replicate sample
if a parent sample match is identified. Both the replicate sample and the parent sample
will have the same 'ResultIdentifier' code in this column, marking them as a pair.
If a sample was identified as a replicate sample in the 'TADA.ActivityType.Flag'
column but does not have an associated parent sample in the dataframe, the 'TADA.ReplicateSampleID'
column will contain the flag 'Orphan'. If more than one parent or replicate sample is identified
in the dataframe, the 'TADA.ReplicateSampleID' column for all samples will contain the
'ResultIdentifier' value from one of the replicate samples marking them as a grouping.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load example dataset:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Data_NCTCShepherdstown_HUC12</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run TADA_FindQCActivities to add TADA.ActivityType.Flag column:</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="TADA_FindQCActivities.html">TADA_FindQCActivities</a></span><span class="op">(</span><span class="va">Data_NCTCShepherdstown_HUC12</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Find pairs for all data flagged as "QC_replicate" in the TADA.ActivityType.Flag column:</span></span></span>
<span class="r-in"><span><span class="va">df_all_pairs</span> <span class="op">&lt;-</span> <span class="fu">TADA_PairReplicates</span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Find pairs for only data with ActivityTypeCode "Quality Control Sample-Field Replicate":</span></span></span>
<span class="r-in"><span><span class="va">df_fieldrep_pairs</span> <span class="op">&lt;-</span> <span class="fu">TADA_PairReplicates</span><span class="op">(</span><span class="va">df</span>, type <span class="op">=</span> <span class="st">"Quality Control Sample-Field Replicate"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Find pairs for all data flagged as "QC_replicate" within a 5-minute time window:</span></span></span>
<span class="r-in"><span><span class="va">df_all_pairs_5min</span> <span class="op">&lt;-</span> <span class="fu">TADA_PairReplicates</span><span class="op">(</span><span class="va">df</span>, time_difference <span class="op">=</span> <span class="fl">300</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cristina Mullin, Hillary Marler, Jacob Greif, Elise Hinman, Kenny Wong, Kathryn Willi, Matt Brousil, Kathleen Healy, Justin Bousquin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

