<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Identify Potentially Duplicated Data Uploads by Multiple Organizations — TADA_FindPotentialDuplicatesMultipleOrgs • EPATADA</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Identify Potentially Duplicated Data Uploads by Multiple Organizations — TADA_FindPotentialDuplicatesMultipleOrgs"><meta name="description" content="Identifies data records uploaded by different organizations with the same date,
time, characteristic name, and result value within X meters of each other and
flags as potential duplicates. However, it is at the discretion of the data user
to determine if the data records are unique or represent overlap that could cause
issues in the data analysis."><meta property="og:description" content="Identifies data records uploaded by different organizations with the same date,
time, characteristic name, and result value within X meters of each other and
flags as potential duplicates. However, it is at the discretion of the data user
to determine if the data records are unique or represent overlap that could cause
issues in the data analysis."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EPATADA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/CONTRIBUTING.html">Contributing</a></li>
    <li><a class="dropdown-item" href="../articles/TADAAssessmentUnitUseCase.html">TADA: Assessment Unit Use Case Demo</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule1_AdvancedTraining.html">TADA Module 1: Training for Intermediate/Advanced R Users</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule1_BeginnerTraining.html">TADA Module 1: Training for Beginner R Users</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule1.html">TADA Module 1: Water Quality Portal Data Discovery and Cleaning</a></li>
    <li><a class="dropdown-item" href="../articles/TADAModule2.html">TADA Module 2: Geospatial Functions</a></li>
    <li><a class="dropdown-item" href="../articles/TADAWaterSciConWorkshopDemo.html">TADA: WaterSciCon Workshop Demo</a></li>
    <li><a class="dropdown-item" href="../articles/WQXValidationService.html">WQX QAQC Service User Guide</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USEPA/EPATADA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Identify Potentially Duplicated Data Uploads by Multiple Organizations</h1>
      <small class="dont-index">Source: <a href="https://github.com/USEPA/EPATADA/blob/develop/R/ResultFlagsIndependent.R" class="external-link"><code>R/ResultFlagsIndependent.R</code></a></small>
      <div class="d-none name"><code>TADA_FindPotentialDuplicatesMultipleOrgs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Identifies data records uploaded by different organizations with the same date,
time, characteristic name, and result value within X meters of each other and
flags as potential duplicates. However, it is at the discretion of the data user
to determine if the data records are unique or represent overlap that could cause
issues in the data analysis.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">TADA_FindPotentialDuplicatesMultipleOrgs</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  dist_buffer <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  org_hierarchy <span class="op">=</span> <span class="st">"none"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>TADA dataframe</p></dd>


<dt id="arg-dist-buffer">dist_buffer<a class="anchor" aria-label="anchor" href="#arg-dist-buffer"></a></dt>
<dd><p>Numeric. The distance in meters below which two sites with
measurements at the same time on the same day of the same parameter will
be flagged as potential duplicates.</p></dd>


<dt id="arg-org-hierarchy">org_hierarchy<a class="anchor" aria-label="anchor" href="#arg-org-hierarchy"></a></dt>
<dd><p>Vector of organization identifiers that acts as the
order in which the function should select a result as the representative
duplicate, based on the organization that collected the data. If left
blank, the function chooses the representative duplicate result at random.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The same input TADA dataframe with four additional columns: a
TADA.MultipleOrgDuplicate column indicating if there is evidence that
results are likely duplicated due to submission of the same dataset by two
or more different organizations, a TADA.MultipleOrgDupGroupID column
containing a number unique to results that may represent duplicated
measurement events, a TADA.ResultSelectedMultipleOrgs column indicating
which rows are selected to keep (Y) and remove (N) based on the
org hierarchy, and a TADA.MonitoringLocationIdentifier column indicating which
monitoring locations are within the distance buffer from each other.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function runs TADA_FindNearbySites within it which adds the
TADA.MonitoringLocationIdentifier field. Duplicates are only flagged as duplicates if
the distance between sites is less than the function input dist_buffer
(default is 100m). Each group in the TADA.MonitoringLocationIdentifier field indicates
that the sites within each group are within the specified distance from each other.</p>
<p>We recommend running TADA_FindPotentialDuplicatesMultipleOrgs after running
TADA_FindPotentialDuplicatesSingleOrg.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Load dataset</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="TADA_DataRetrieval.html">TADA_DataRetrieval</a></span><span class="op">(</span>startDate <span class="op">=</span> <span class="st">"2022-09-01"</span>, endDate <span class="op">=</span> <span class="st">"2023-05-01"</span>, statecode <span class="op">=</span> <span class="st">"PA"</span>, sampleMedia <span class="op">=</span> <span class="st">"Water"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">OrganizationIdentifier</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># If duplicates across organizations exist, pick the result belonging to "21PA_WQX" if available.</span></span></span>
<span class="r-in"><span><span class="va">dat1</span> <span class="op">&lt;-</span> <span class="fu">TADA_FindPotentialDuplicatesMultipleOrgs</span><span class="op">(</span><span class="va">dat</span>, dist_buffer <span class="op">=</span> <span class="fl">100</span>, org_hierarchy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"21PA_WQX"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">dat1</span><span class="op">$</span><span class="va">TADA.ResultSelectedMultipleOrgs</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by U.S. Environmental Protection Agency, Cristina Mullin, Hillary Marler, Jacob Greif, Elise Hinman.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

