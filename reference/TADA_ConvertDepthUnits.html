<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="#'The TADA_ConvertDepthUnits function converts depth units to a consistent
unit. Depth values and units are most commonly associated with lake
data, and are populated in the ActivityDepthHeightMeasure,
ActivityTopDepthHeightMeasure, ActivityBottomDepthHeightMeasure, and
ResultDepthHeightMeasure Result Value/Unit columns."><title>Convert Depth Units — TADA_ConvertDepthUnits • TADA</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert Depth Units — TADA_ConvertDepthUnits"><meta property="og:description" content="#'The TADA_ConvertDepthUnits function converts depth units to a consistent
unit. Depth values and units are most commonly associated with lake
data, and are populated in the ActivityDepthHeightMeasure,
ActivityTopDepthHeightMeasure, ActivityBottomDepthHeightMeasure, and
ResultDepthHeightMeasure Result Value/Unit columns."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">TADA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/CONTRIBUTING.html">Contributing</a>
    <a class="dropdown-item" href="../articles/TADAModule1_AdvancedTraining.html">TADA Module 1: Training for Intermediate/Advanced R Users</a>
    <a class="dropdown-item" href="../articles/TADAModule1_BeginnerTraining.html">TADA Module 1: Training for Beginner R Users</a>
    <a class="dropdown-item" href="../articles/TADAModule1.html">TADA Module 1: Water Quality Portal Data Discovery and Cleaning</a>
    <a class="dropdown-item" href="../articles/TADAModule2.html">TADA Module 2: Geospatial Functions</a>
    <a class="dropdown-item" href="../articles/WQXValidationService.html">WQX QAQC Service User Guide</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/USEPA/TADA/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Convert Depth Units</h1>
      <small class="dont-index">Source: <a href="https://github.com/USEPA/TADA/blob/HEAD/R/UnitConversions.R" class="external-link"><code>R/UnitConversions.R</code></a></small>
      <div class="d-none name"><code>TADA_ConvertDepthUnits.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>#'The <strong>TADA_ConvertDepthUnits</strong> function converts depth units to a consistent
unit. Depth values and units are most commonly associated with lake
data, and are populated in the <em>ActivityDepthHeightMeasure</em>,
<em>ActivityTopDepthHeightMeasure</em>, <em>ActivityBottomDepthHeightMeasure</em>, and
<em>ResultDepthHeightMeasure</em> Result Value/Unit columns.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">TADA_ConvertDepthUnits</span><span class="op">(</span><span class="va">.data</span>, unit <span class="op">=</span> <span class="st">"m"</span>, transform <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>.data</dt>
<dd><p>TADA dataframe</p></dd>


<dt>unit</dt>
<dd><p>Character string input indicating the target depth unit to use for
conversions. Allowable values for 'unit' are either "m" (meters), "ft" (feet),
or "in" (inches). 'unit' accepts only one allowable value as an input. The
default unit = "m".</p></dd>


<dt>transform</dt>
<dd><p>Boolean argument; The default is transform = TRUE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>When transform = TRUE, the input dataframe is returned with all depth
data converted to the target unit in new TADA-specific columns.
When transform = FALSE, the input dataframe is returned with additional
columns showing how the data would be handled if converted. A user can review
the conversion factor information if desired by using this feature.
No conversions are made, but new TADA-specific columns are added as copies
of original columns, with unit synonyms addressed (e.g. "meters" is converted
automatically to "m" for national consistency).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function first checks the dataframe for depth profile data. Where depth
profile columns are populated, the function appends 'Conversion Factor'
columns and populates those columns based on the original unit and the target
unit, which is defined in the 'unit' argument. A 'Depth Target Unit' column
is also appended, indicating the unit all selected depth data is converted
to. When transform = FALSE, the output includes all 'Conversion Factor'
columns and the 'Depth Target Unit' column. When transform = TRUE, the output
includes converted depth data in a column with the same name as the original,
plus the prefix "TADA." and a 'Depth Target Unit' column, which acts as a
flag indicating which rows have been converted. New TADA versions of all
depth columns are always created. Default is transform = TRUE.</p>
<p>The depth profile function can harmonize depth units across all the
following fields: "ActivityDepthHeightMeasure",
"ActivityTopDepthHeightMeasure", "ActivityBottomDepthHeightMeasure",
"ResultDepthHeightMeasure"). It creates new result value/unit columns
with the prefix "TADA." to all converted columns. The default is to
check all four Depth Height columns.</p>
<p>Allowable values for 'unit' are either 'm' (meter), 'ft' (feet), or 'in'
(inch). 'unit' accepts only one allowable value as an input. Default is
unit = "m".</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load example dataset:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Data_Nutrients_UT</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert all depth units to meters and review unit harmonization:</span></span></span>
<span class="r-in"><span><span class="co"># "ActivityDepthHeightMeasure.MeasureUnitCode" and "ActivityDepthHeightMeasure.MeasureValue"</span></span></span>
<span class="r-in"><span><span class="co"># are harmonized to "TADA.ActivityDepthHeightMeasure.MeasureUnitCode" and "TADA.ActivityDepthHeightMeasure.MeasureValue"</span></span></span>
<span class="r-in"><span><span class="va">DepthUnitsConverted_m</span> <span class="op">&lt;-</span> <span class="fu">TADA_ConvertDepthUnits</span><span class="op">(</span><span class="va">Data_Nutrients_UT</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert all depth units to feet:</span></span></span>
<span class="r-in"><span><span class="va">DepthUnitsConverted_ft</span> <span class="op">&lt;-</span> <span class="fu">TADA_ConvertDepthUnits</span><span class="op">(</span><span class="va">Data_Nutrients_UT</span>, unit <span class="op">=</span> <span class="st">"ft"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Do not convert any depth units, but address depth unit synonyms, add TADA depth columns (copies),</span></span></span>
<span class="r-in"><span><span class="co"># Add columns with target units and conversion factors for each depth measure unit:</span></span></span>
<span class="r-in"><span><span class="va">DepthUnitsNotConverted</span> <span class="op">&lt;-</span> <span class="fu">TADA_ConvertDepthUnits</span><span class="op">(</span><span class="va">Data_Nutrients_UT</span>, transform <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Compare columns before and after transformation to see example transformation from "meters" to "m"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DepthUnitsNotConverted</span><span class="op">$</span><span class="va">TADA.ActivityDepthHeightMeasure.MeasureUnitCode</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA     "m"    "feet"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DepthUnitsNotConverted</span><span class="op">$</span><span class="va">ActivityDepthHeightMeasure.MeasureUnitCode</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA     "m"    "feet"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by U.S. Environmental Protection Agency, Cristina Mullin, Jacob Greif, Elise Hinman.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

