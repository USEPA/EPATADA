% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/DataDiscoveryRetrieval.R
\name{TADA_CreateDateTime}
\alias{TADA_CreateDateTime}
\title{Create ActivityStartDateTime column}
\usage{
TADA_CreateDateTime(.data, date_col, time_col, tz_col, tz)
}
\arguments{
\item{.data}{TADA dataframe}

\item{date_col}{date column}

\item{time_col}{time column}

\item{tz_col}{time zone column}

\item{tz}{time zone}
}
\description{
Copy of internal dataRetrieval create_dateTime function 3/7/2025
https://github.com/DOI-USGS/dataRetrieval/blob/main/R/importWQP.R#L223
offsetLibrary is a dataframe saved in sysdata.rda
You can see where and how it gets called here:
https://github.com/DOI-USGS/dataRetrieval/blob/main/R/importWQP.R#L160
}
\examples{
\dontrun{
# Find web service URLs for each Profile using WQP User Interface (https://www.waterqualitydata.us/)
# Example WQP URL: https://www.waterqualitydata.us/#statecode=US\%3A09&characteristicType=Nutrient&startDateLo=04-01-2023&startDateHi=11-01-2023&mimeType=csv&providers=NWIS&providers=STEWARDS&providers=STORET

# Use TADA_ReadWQPWebServices to load the Station, Project, and Phys-Chem Result profiles
stationProfile <- TADA_ReadWQPWebServices("https://www.waterqualitydata.us/data/Station/search?statecode=US\%3A09&characteristicType=Nutrient&startDateLo=04-01-2023&startDateHi=11-01-2023&mimeType=csv&zip=yes&providers=NWIS&providers=STEWARDS&providers=STORET")
physchemProfile <- TADA_ReadWQPWebServices("https://www.waterqualitydata.us/data/Result/search?statecode=US\%3A09&characteristicType=Nutrient&startDateLo=04-01-2023&startDateHi=11-01-2023&mimeType=csv&zip=yes&dataProfile=resultPhysChem&providers=NWIS&providers=STEWARDS&providers=STORET")
projectProfile <- TADA_ReadWQPWebServices("https://www.waterqualitydata.us/data/Project/search?statecode=US\%3A09&characteristicType=Nutrient&startDateLo=04-01-2023&startDateHi=11-01-2023&mimeType=csv&zip=yes&providers=NWIS&providers=STEWARDS&providers=STORET")

# Join all three profiles using TADA_JoinWQPProfiles
TADAProfile <- TADA_JoinWQPProfiles(
  FullPhysChem = physchemProfile, Sites = stationProfile,
  Projects = projectProfile
)

# Run TADA_CheckRequiredFields, returns error message,
# 'The dataframe does not contain the required fields: ActivityStartDateTime'
TADA_CheckRequiredFields(TADAProfile)

# Add missing col
TADAProfile1 <- TADA_CreateDateTime(
  .data = TADAProfile,
  date_col = "ActivityStartDate",
  time_col = "ActivityStartTime.Time",
  tz_col = "ActivityStartTime.TimeZoneCode",
  tz = "UTC"
)

# Re-run TADA_CheckRequiredFields, no longer returns error message
TADA_CheckRequiredFields(TADAProfile1)
}

}
