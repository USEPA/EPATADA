% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ResultFlagsIndependent.R
\name{TADA_FlagAboveThreshold}
\alias{TADA_FlagAboveThreshold}
\title{Check Result Value Against WQX Upper Threshold}
\usage{
TADA_FlagAboveThreshold(.data, clean = TRUE, flaggedonly = FALSE)
}
\arguments{
\item{.data}{TADA dataframe}

\item{clean}{Boolean argument; removes data that is above the upper WQX
threshold from the dataframe when clean = TRUE. Default is clean = TRUE.}

\item{flaggedonly}{Boolean argument; filters dataframe to show only the data
flagged as above the upper WQX threshold. Default is flaggedonly = FALSE.}
}
\value{
The input TADA dataset with the added
TADA.AboveNationalWQXUpperThreshold column which is populated with the values
"Pass", "Suspect", or "Not Reviewed". When clean = FALSE and
flaggedonly = TRUE, the dataframe is filtered to show only data found above
the WQX threshold. When clean = TRUE and flaggedonly = FALSE, rows with
values that are above the upper WQX threshold are removed from the
dataframe and no column is appended. When clean = TRUE and and
flaggedonly = TRUE, the function is not executed and an error message
is returned. Defaults are clean = TRUE and flaggedonly = FALSE.
}
\description{
EPA's Water Quality Exchange (WQX) has generated statistics and data from
millions of water quality data points around the country. This function
leverages the statistical data from WQX to flag any data that is above the
upper threshold of result values submitted to WQX for a given characteristic.
When clean = FALSE and flaggedonly = FALSE, a column which flags data above
the upper WQX threshold is appended to the dataframe. When clean = FALSE and
flaggedonly = TRUE, the dataframe is filtered to show only data found above
the WQX threshold. When clean = TRUE and flaggedonly = FALSE, rows with values
that are above the upper WQX threshold are removed from the dataframe and no
column is appended. When clean = TRUE and and flaggedonly = TRUE, the function
is not executed and an error message is returned. Defaults are clean = TRUE
and flaggedonly = FALSE.
}
\details{
The “Not Reviewed” value within "TADA.ResultAboveUpperThreshold.Flag" means
that the EPA WQX team has not yet reviewed the combinations
(see https://cdx.epa.gov/wqx/download/DomainValues/QAQCCharacteristicValidation.CSV).
The WQX team plans to review and update these new combinations quarterly.
}
\examples{
# Load example dataset:
data(Data_Nutrients_UT)

# Remove data that is above the upper WQX threshold from dataframe:
WQXUpperThreshold_clean <- TADA_FlagAboveThreshold(Data_Nutrients_UT, clean = TRUE)

# Flag, but do not remove, data that is above the upper WQX threshold in
# new column titled "TADA.ResultValueAboveUpperThreshold.Flag":
WQXUpperThreshold_flags <- TADA_FlagAboveThreshold(Data_Nutrients_UT, clean = FALSE)

# Show only data flagged as above the upper WQX threshold:
WQXUpperThreshold_flagsonly <- TADA_FlagAboveThreshold(Data_Nutrients_UT, clean = FALSE, flaggedonly = TRUE)

}
