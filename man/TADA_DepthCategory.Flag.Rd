% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ResultFlagsIndependent.R
\name{TADA_DepthCategory.Flag}
\alias{TADA_DepthCategory.Flag}
\title{TADA.DepthCategory.Flag}
\usage{
TADA_DepthCategory.Flag(
  .data,
  bycategory = FALSE,
  daily_agg = "none",
  clean = FALSE
)
}
\arguments{
\item{.data}{TADA dataframe}

\item{bycategory}{Boolean argument with options "TRUE" or "FALSE". The default is
by category = "FALSE" which means that any descriptive statistics calculated are
based on the entire water column at a Monitoring Location. When bycategory = "TRUE",
any calculated descriptive statistics are determined for each depth category for each
Monitoring Location.}

\item{daily_agg}{Character argument; with options "none", "avg", "min", or
"max". The default is daily_agg = "none". When daily_agg = "none", all results
will be retained. When daily_agg == "avg", the mean value in each group of
results (as determined by the depth category) will be identified or calculated for each
MonitoringLocation, ActivityDate, Organization ID, and TADA.CharacteristicName combination.
When daily_agg == "min" or when daily_agg == "max", the min or max
value in each group of results (as determined by the depth category) will
be identified or calculated for each MonitoringLocation, ActivityDate, and TADA.CharacteristicName
combination. An additional column, TADA.ResultValueAggregation.DepthProfile.Flag will be added
to describe aggregation.}

\item{clean}{Boolean argument with options "TRUE" or "FALSE". The default is
by category = "FALSE" which means that all results are returned. When clean
= "TRUE", only aggregate values are returned.}
}
\value{
The same input TADA dataframe with additional columns TADA.DepthCategory.Flag
and TADA.ResultValueAggregation.DepthProfile.Flag. If a daily_agg = "avg",
"min", or "max", aggregated values will be identified in the TADA.ResultAggregation.Flag
column. In the case of daily_agg = "avg", additional rows to display averages will be
added to the data frame. They can be identified by the prefix ("TADA-") of
their result identifiers.
}
\description{
Creates a new column, TADA.DepthCategory.Flag with values: "No
depth info", "Epilimnion-surface", "Hypolimnion-bottom", and
"Metalimnion/Thermocline-middle". Categories can be defined to start as:
less than 2m depth = "Epilimnion", from bottom up to 2m from
bottom= "Hypolimnion-bottom", and the full depth profile for
"Metalimnion/Thermocline-middle".
}
\details{
When more than one result is available for a MonitoringLocationIdentifier,
ActivityStartDate, OrganizationIdentifier, and TADA.CharacteristicName, the
user can choose a single result value (average, max, or min value) to use for that
day and location. If results vary with depth, the user may also define whether
the daily aggregation occurs over each depth category (surface, middle, or bottom)
or for the entire depth profile.
}
\examples{
# Load dataset
data(Data_6Tribes_5y)

# assign TADA.DepthCategory.Flag with no aggregation
# Data_6Tribs_5y_DepthCat <- TADA_DepthCategory.Flag(Data_6Tribes_5y)

# assign TADA.DepthCategory.Flag and determine average values by depth category
Data_6Tribs_5y_Mean <- TADA_DepthCategory.Flag(Data_6Tribes_5y, bycategory = TRUE, daily_agg = "avg")

}
