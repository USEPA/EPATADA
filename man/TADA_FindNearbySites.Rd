% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Utilities.R
\name{TADA_FindNearbySites}
\alias{TADA_FindNearbySites}
\title{Identify and group nearby monitoring locations (UNDER ACTIVE DEVELOPMENT)}
\usage{
TADA_FindNearbySites(.data, dist_buffer = 100)
}
\arguments{
\item{.data}{TADA dataframe OR TADA sites dataframe}

\item{dist_buffer}{Numeric. The maximum distance (in meters) two sites can
be from one another to be considered "nearby" and grouped together.
The default is 100m.}

\item{org_hierarchy}{Vector of organization identifiers that acts as the order in which the
function should select representative metadata for grouped sites based on the organization
that collected the data. If left blank, the function does not factor organization in to the
metadata selection process. When a vector is provided, the metadata will first be selected by
organization and the "meta_select" argument will only be applied in cases where more than
one set of metadata per site grouping are available from the highest ranking organization
available.}

\item{meta_select}{Character argument to determine how metadata should be selected if no
org_hierarchy is specified or if multiple options for metadata from the same organization
exist. Options are "oldest", which selects the metadata associated with the oldest result from
the grouped nearby sites, "newest", which selects the metadata associated with the newest
result from the grouped nearby sites, "count" which selects the metadata associated with the
greatest number of results, and "random" which selects random metadata from the site group.
The default is meta_select = "random".}
}
\value{
Input dataframe with a TADA.MonitoringLocationIdentifier column that indicates
the nearby site groups each monitoring location belongs to. Related metadata, including
TADA.MonitoringLocationName, TADA.LatitudeMeasure, TADA.LongitudeMeasure, and
TADA.MonitoringLocationTypeName are added to the input df.

Input dataframe with a TADA.MonitoringLocationIdentifier column that
indicates the nearby site groups each monitoring location belongs to. Grouped
sites are concatenated in the TADA.MonitoringLocationIdentifier column
(e.g. "USGS-10010025","USGS-10010026" enclosed in square brackets []).
This JSON array is the new TADA monitoring location ID for the grouped sites.
TADA.MonitoringLocationIdentifier can be leveraged to analyze data from
nearby sites together (as the same general location).
}
\description{
This function takes a TADA dataset and creates a distance matrix for all
sites in the dataset. It then uses the buffer input value to determine which
sites are within the buffer and should be identified as part of a nearby site
group.
}
\examples{
GroupNearbySites_100m <- TADA_FindNearbySites(Data_Nutrients_UT)
GroupNearbySites_10m <- TADA_FindNearbySites(Data_Nutrients_UT, dist_buffer = 10)


}
