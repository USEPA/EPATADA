% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/UnitConversions.R
\name{TADA_ConvertResultUnits}
\alias{TADA_ConvertResultUnits}
\title{Transform Units to WQX Target Units or User Specified Units}
\usage{
TADA_ConvertResultUnits(.data, ref = "none", transform = TRUE, detlimit = TRUE)
}
\arguments{
\item{.data}{TADA dataframe}

\item{ref}{Optional character argument in which a user can specify a data frame
by name. Data frame must contain the columns CharacteristicName, Unit, and TargetUnit.
TADA_CreateUnitRef() can be used to help create this data frame. There are two
options that do not require the user to supply a data frame. When no ref is
specified all unit conversion will be based on TADA priority characteristic units
(where appplicable), with any other units assigned by WQX unit reference.}

\item{transform}{Boolean argument with two possible values, “TRUE” and “FALSE”.
Default is transform = TRUE.}

\item{detlimit}{Boolean argument with two possible values, "TRUE" and "FALSE".
Default is detlimit = TRUE.}
}
\value{
When transform = TRUE, result values and units are converted to WQX
target units. This function changes the values within the
"TADA.ResultMeasure.MeasureUnitCode" to the WQX target units and converts
respective values within the "TADA.ResultMeasureValue" field.
When detlimit = TRUE, detection limit values and units are converted to WQX
target units. This function changes the
"TADA.DetectionQuantitationLimitMeasure.MeasureUnitCode" to the WQX target
units and converts respective values within the
"TADA.DetectionQuantitationLimitMeasure.MeasureValue" field.

When transform = FALSE, result values and units are NOT converted to WQX target units,
but columns are appended to indicate what the target units and conversion factors are,
and if the data can be converted. This function adds the following four fields ONLY
when transform = FALSE: "TADA.WQXUnitConversionFactor", "TADA.WQXTargetUnit",
"TADA.SpeciationUnitConversion", and "TADA.WQXResultUnitConversion.

"TADA.WQXResultUnitConversion" indicates if data can be converted."NoResultValue" means
data cannot be converted because there is no ResultMeasureValue, and "NoTargetUnit"
means data cannot be converted because the original unit is not associated with
a target unit in WQX. "Convert" means the data can be transformed.

When detlimit = FALSE, values and units for detection limit are not converted to WQX
target units and no additional fields related to detection limit values or units
are added to the input dataframe.

When
}
\description{
This function compares measure units in the input data to the Water Quality
Exchange (WQX) 3.0 Measure Unit domain table. It also takes common USGS units
that include speciation information and transfers the speciation information
to the TADA.MethodSpeciationName field.
}
\details{
It also uses the"TADA.ResultMeasureValue" and
"TADA.ResultMeasure.MeasureUnitCode" fields from an autocleaned input
dataframe to perform conversions as necessary when transform = TRUE.
}
\examples{
# Load example dataset:
data(Data_Nutrients_UT)

ResultUnitsConverted <- (Data_Nutrients_UT)

# Do not convert result values and units, but add three new columns titled
# "TADA.WQXUnitConversionFactor", "TADA.WQXTargetUnit", and "TADA.SpeciationUnitConversion":
ResultUnitsNotConverted <- TADA_ConvertResultUnits(Data_Nutrients_UT, transform = FALSE, detlimit = FALSE)

#' # Convert values and units for results and detection limits:
ResultUnitsNotConverted <- TADA_ConvertResultUnits(Data_Nutrients_UT, transform = TRUE, detlimit = TRUE)

}
