% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Utilities.R
\name{TADA_AutoClean}
\alias{TADA_AutoClean}
\title{TADA_AutoClean}
\usage{
TADA_AutoClean(.data)
}
\arguments{
\item{.data}{TADA dataframe}
}
\value{
Input dataframe with several added TADA-specific columns, including:
TADA.ActivityMediaName, TADA.CharacteristicName, TADA.ResultMeasureValue,
TADA.ResultMeasure.MeasureUnitCode, TADA.ResultMeasureValueDataTypes.Flag,
TADA.LatitudeMeasure, TADA.LongitudeMeasure,
TADA.ResultSampleFractionText, TADA.MethodSpeciationName, and more.
Please note that the number of TADA-specific depth columns in the returned
dataframe depends upon the number of depth columns with one or more results
populated with a numeric value. If all depth columns contain only NA's, no
conversion is necessary and no TADA depth columns are created.
}
\description{
Removes rows of data that are exact duplicates. Creates new columns with
prefix "TADA." and capitalizes fields to harmonize data. This function runs
"TADA_ConvertSpecialChars", "TADA_ConvertResultUnits",
"TADA_ConvertDepthUnits", and "TADA_IDCensoredData" functions, which perform
the following QA steps: remove exact duplicates, convert result values to
numeric, harmonize result and depth units (note: all depth-related columns
with populated values are converted to meters in a TADA-specific column),
convert text to uppercase letters, substitute outdated (deprecated) characteristic names
with updated names in TADA.CharacteristicName, and categorize detection limit
data. Original affected columns are not changed: new columns are added to the
end of the dataframe with the prefix "TADA." This function makes important
character fields uppercase so that they're interoperable with the WQX
validation reference tables and reduces issues with case-sensitivity when
joining data.TADA_AutoClean can be run as a stand alone function but is
primarily used by the TADA_dataRetrieval function.
}
\examples{
\dontrun{
# Find web service URLs for each Profile using WQP User Interface (https://www.waterqualitydata.us/)
# Example WQP URL: https://www.waterqualitydata.us/#statecode=US\%3A09&characteristicType=Nutrient&startDateLo=04-01-2023&startDateHi=11-01-2023&mimeType=csv&providers=NWIS&providers=STEWARDS&providers=STORET

# Use TADA_ReadWQPWebServices to load the Station, Project, and Phys-Chem Result profiles
stationProfile <- TADA_ReadWQPWebServices("https://www.waterqualitydata.us/data/Station/search?statecode=US\%3A09&characteristicType=Nutrient&startDateLo=04-01-2023&startDateHi=11-01-2023&mimeType=csv&zip=yes&providers=NWIS&providers=STEWARDS&providers=STORET")
physchemProfile <- TADA_ReadWQPWebServices("https://www.waterqualitydata.us/data/Result/search?statecode=US\%3A09&characteristicType=Nutrient&startDateLo=04-01-2023&startDateHi=11-01-2023&mimeType=csv&zip=yes&dataProfile=resultPhysChem&providers=NWIS&providers=STEWARDS&providers=STORET")
projectProfile <- TADA_ReadWQPWebServices("https://www.waterqualitydata.us/data/Project/search?statecode=US\%3A09&characteristicType=Nutrient&startDateLo=04-01-2023&startDateHi=11-01-2023&mimeType=csv&zip=yes&providers=NWIS&providers=STEWARDS&providers=STORET")

# Join all three profiles using TADA_JoinWQPProfiles
TADAProfile <- TADA_JoinWQPProfiles(FullPhysChem = physchemProfile, Sites = stationProfile, Projects = projectProfile)

# Run TADA_AutoClean
Autocleaned_TADAProfile <- TADA:::TADA_AutoClean(TADAProfile)
}

}
